<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíñ</title>
  <style>
    body{
      margin:0;
      min-height:100vh;
      overflow:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(circle at top, #ffd1e8, #ff5aa5);
      color:white;
      text-align:center;
      position: relative;
    }

    /* Centered content container */
    .wrap{
      position: relative;
      z-index: 2;
      min-height: 100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 28px 16px 70px; /* space for the tap hint */
      box-sizing: border-box;
    }
    .card{
      width: min(620px, 92vw);
    }

    h1{ font-size: clamp(40px, 7vw, 84px); margin:0 0 10px; }
    p{ font-size: clamp(16px, 2.5vw, 22px); margin:0; opacity:.95; }

    .heart{
      position:absolute; bottom:-40px;
      font-size: 24px;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
      user-select:none;
      z-index: 1;
      pointer-events: none;
    }
    @keyframes floatUp{
      from { transform: translateY(0) translateX(0) scale(1); opacity: 1; }
      to   { transform: translateY(-110vh) translateX(var(--drift)) scale(1.6); opacity: 0; }
    }

    .glow{
      text-shadow: 0 0 12px rgba(255,255,255,.7), 0 0 28px rgba(255,255,255,.35);
    }

    .tap{
      position:absolute; bottom:18px; left:0; right:0;
      font-size: 14px; opacity: .85;
      z-index: 3;
      pointer-events: none;
    }

    .reply{
      margin-top: 18px;
      width: min(520px, 88vw);
      margin-left: auto;
      margin-right: auto;
      background: rgba(255,255,255,.16);
      border: 1px solid rgba(255,255,255,.25);
      border-radius: 18px;
      padding: 14px;
      backdrop-filter: blur(6px);
      box-sizing: border-box;
    }
    .reply h2{
      margin:0 0 10px;
      font-size: 18px;
      font-weight: 800;
    }
    .reply textarea{
      width: 100%;
      height: 92px;
      border-radius: 14px;
      border: 0;
      padding: 12px;
      font-size: 16px;
      resize: none;
      outline: none;
      box-sizing: border-box;
    }
    .reply button{
      margin-top: 10px;
      width: 100%;
      border: 0;
      border-radius: 14px;
      padding: 12px 14px;
      font-size: 16px;
      font-weight: 800;
      cursor: pointer;
      background: rgba(255,255,255,.9);
    }
    .reply button:active{
      transform: scale(0.99);
    }
    .hint{
      margin-top: 8px;
      font-size: 13px;
      opacity: .9;
      min-height: 18px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1 class="glow">I love you NAHOUD ‚ù§Ô∏è</h1>
      <p>You make my world better.</p>

      <div class="reply">
        <h2>Write me back üíå</h2>
        <form id="replyForm">
          <textarea id="msg" name="message" placeholder="Type your message here..."></textarea>
          <button type="submit">Send</button>
          <div id="status" class="hint"></div>
        </form>
      </div>
    </div>
  </div>

  <div class="tap">Tap anywhere for more hearts ‚ú®</div>

  <script>
   
    const hearts = ["‚ù§Ô∏è","üçÜ","üíñ","üíò","üíù","üíï","üçÜ","üíó"];

    function spawnHeart(x=null){
      const el = document.createElement("div");
      el.className = "heart";
      el.textContent = hearts[Math.floor(Math.random()*hearts.length)];

      const startX = x ?? Math.random() * window.innerWidth;
      el.style.left = `${startX}px`;

      const dur = 3 + Math.random() * 3; // 3‚Äì6s
      el.style.animationDuration = `${dur}s`;
      el.style.setProperty("--drift", `${(Math.random()*200 - 100).toFixed(0)}px`);
      el.style.fontSize = `${18 + Math.random()*28}px`;

      document.body.appendChild(el);
      el.addEventListener("animationend", () => el.remove());
    }

    function popSticker(x,y){
      const img = document.createElement("img");
      img.src = "assets/sticker_29.webp";
      img.style.position = "absolute";
      img.style.left = (x - 45) + "px";
      img.style.top  = (y - 45) + "px";
      img.style.width = (70 + Math.random()*60) + "px";
      img.style.zIndex = 2;
      img.style.pointerEvents = "none";
      img.style.filter = "drop-shadow(0 10px 18px rgba(0,0,0,.25))";

      img.animate(
        [
          { transform: "scale(.3) rotate(-12deg)", opacity: 0 },
          { transform: "scale(1.1) rotate(10deg)", opacity: 1, offset: 0.35 },
          { transform: "scale(1) rotate(0deg)", opacity: 1 }
        ],
        { duration: 650, easing: "cubic-bezier(.2,.9,.2,1)" }
      );

      document.body.appendChild(img);
      setTimeout(() => img.remove(), 2200);
    }

    // Gentle auto-hearts
    const timer = setInterval(() => spawnHeart(), 220);

    // Tap = burst (but don't trigger when tapping inside the form/textarea/button)
   window.addEventListener("pointerdown", (e) => {
  // If the tap/click happened inside the reply box (textarea or send button), do nothing
  if (e.target.closest(".reply")) return;

  for (let i = 0; i < 18; i++) {
    spawnHeart(e.clientX + (Math.random() * 120 - 60));
  }
  popSticker(e.clientX, e.clientY);
});

    // Formspree send
    const FORMSPREE_URL = "https://formspree.io/f/xzdadjrl";

    document.getElementById("replyForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      const status = document.getElementById("status");
      const message = document.getElementById("msg").value.trim();

      if (!message) {
        alert("Write something first üòä");
        return;
      }

      status.textContent = "Sending‚Ä¶ üí´";

      try {
        const res = await fetch(FORMSPREE_URL, {
          method: "POST",
          headers: {
            "Accept": "application/json",
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ message })
        });

        if (res.ok) {
          status.textContent = "Sent ‚úÖ I received it üíñ";
          document.getElementById("msg").value = "";
        } else {
          status.textContent = "Not sent üòï Try again.";
        }
      } catch (err) {
        status.textContent = "Network issue üì∂ Try again later.";
      }
    });
  </script>
</body>
</html>
